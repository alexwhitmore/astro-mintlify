---
import { SidebarContent } from '../components/ScrollArea'
import type { Anchor, NavigationItem } from '../types'

const rawPath = Astro.url.pathname
const path = rawPath === '/' ? '/' : rawPath.replace(/\/$/, '')

interface Props {
  anchors: Anchor[]
  navigation: NavigationItem[]
}

const { anchors, navigation } = Astro.props
---

<aside class='fixed top-32 hidden shrink-0 lg:block w-72 pl-8'>
  <SidebarContent
    client:load
    anchors={anchors}
    navigation={navigation}
    currentPath={path}
  />
</aside>
