---
title: 'Fonts'
date: '2024-06-28'
description: 'Learn how to use custom fonts in the Epic Stack and optimize them for performance.'
draft: false
type: 'frontend'
---

import GroupName from '../../components/docs/GroupName.astro'
import CodeBlock from '../../components/docs/CodeBlock.astro'

<GroupName>Frontend</GroupName>

# Fonts

The Epic Stack uses the default font that comes with Tailwind CSS. While this is a good default, you may want to use a custom font for your site. Here's how you can do that.

## Using Custom Fonts

1. Create the `./public/fonts` directory and add your font files to it.
2. Add the CSS file for the font to the `./app/styles` directory.
3. Update the following files to use your custom font:

### Update CSS Variables

<CodeBlock
  code={`/* tailwind.css */
@layer base {
  :root {
    --font-sans: <YourFont>;
  }
}`}
  lang='css'
/>

### Update Tailwind Config

<CodeBlock
  code={`import defaultTheme from 'tailwindcss/defaultTheme.js'
// tailwind.config.ts
extend: {
  ...extendedTheme,
  fontFamily: {
    sans: ['var(--font-sans)', ...defaultTheme.fontFamily.sans],
  }
}`}
  lang='typescript'
/>

### Import Font Stylesheet

<CodeBlock
  code={`// app/routes/root.tsx
import fontStyleSheetUrl from './styles/yourfont.css?url'

// Add to links array
{ rel: 'preload', href: fontStyleSheetUrl, as: 'style' },
{ rel: 'stylesheet', href: fontStyleSheetUrl },`}
lang="typescript"
/>

### Expose and Cache Fonts Folder

<CodeBlock
  code={`// server/index.ts
app.use(
  '/fonts',
  // Can aggressively cache fonts as they don't change often
  express.static('public/fonts', { immutable: true, maxAge: '1y' }),
)`}
  lang='typescript'
/>

## Font Metric Overrides

To prevent Cumulative Layout Shift when using custom fonts, you can use Font Metric Overrides:

1. Generate overrides using fontpie:

<CodeBlock
  code={`npx fontpie ./public/fonts/nunito-sans/nunito-sans-v12-latin_latin-ext-200.woff2 -w 200 -s normal -n NunitoSans`}
  lang='bash'
/>

2. Add the generated overrides to your font stylesheet.

3. Add the font fallback to the stylesheet:

<CodeBlock
  code={`/* tailwind.css */
@layer base {
  :root {
    --font-sans: <YourFont> <YourFontFallback>;
  }
}`}
  lang='css'
/>

By following these steps, you can use custom fonts in your Epic Stack project while maintaining optimal performance and avoiding layout shifts.
