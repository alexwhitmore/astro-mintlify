---
title: 'Toasts'
date: '2024-06-28'
description: 'Learn how to use toast notifications in the Epic Stack for temporary user notifications.'
draft: false
type: 'frontend'
---

import GroupName from '../../components/docs/GroupName.astro'
import CodeBlock from '../../components/docs/CodeBlock.astro'
import { Image } from 'astro:assets'
import toastsImage from '../../assets/toasts.gif'

<GroupName>Frontend</GroupName>

# Toasts

Toast messages are an excellent way to temporarily call a user's attention to something. They are often used to notify users of successful or failed actions.

<Image src={toastsImage} alt='Example of toast notifications' />

The Epic Stack provides utilities for implementing toast notifications using a concept called "flash data" - a temporary session value available only for the next request.

## Using Toasts

### Redirecting with Toast

The primary utility for redirecting with toast notifications is `redirectWithToast` from `app/utils/toast.server.ts`:

<CodeBlock
  code={`return redirectWithToast(\`/users/\${note.owner.username}/notes/\${note.id}\`, {
  description: id ? 'Note updated' : 'Note created',
})`}
  lang='tsx'
/>

This function accepts an additional argument for other `ResponseInit` options, allowing you to set other headers as needed.

### Creating Toast Headers Without Redirect

If you don't need to redirect, you can use the underlying `createToastHeaders` directly:

<CodeBlock
  code={`return json(
  { success: true },
  {
    headers: await createToastHeaders({
      description: 'Note updated',
      type: 'success',
    }),
  },
)`}
  lang='tsx'
/>

### Combining Multiple Headers

For cases where you need to set multiple headers, you can use the `combineHeaders` utility from `app/utils/misc.tsx`:

<CodeBlock
  code={`return json(
  { success: true },
  {
    headers: combineHeaders(
      await createToastHeaders({
        toast: {
          description: 'Note updated',
          type: 'success',
        },
      }),
      { 'x-foo': 'bar' },
    ),
  },
)`}
  lang='tsx'
/>

## Benefits of Flash Data

Using flash data for toasts offers several advantages:

1. Temporary: The data is only available for the next request, preventing persistence of outdated notifications.
2. Stateless: You don't have to manage state explicitly; it's all handled in the cookie.
3. Server-Side: Toasts can be triggered from server-side actions, ensuring consistency across different types of requests.

By leveraging these toast utilities, you can easily implement informative and temporary notifications in your Epic Stack application, enhancing the user experience without complicating your state management.
