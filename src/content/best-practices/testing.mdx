---
title: 'Testing'
date: '2024-06-28'
description: 'Learn about the testing strategies and tools used in the Epic Stack for ensuring code quality and reliability.'
draft: false
type: 'Best Practices'
---

import GroupName from '../../components/docs/GroupName.astro'
import CodeBlock from '../../components/docs/CodeBlock.astro'

<GroupName>Best Practices</GroupName>

# Testing

The Epic Stack employs a comprehensive testing strategy using various tools to ensure code quality and reliability.

## Playwright for End-to-End Testing

We use Playwright for our End-to-End (E2E) tests.

- Test files are located in the `tests` directory.
- To run E2E tests in development:
  <CodeBlock code='npm run test:e2e:dev' lang='bash' />
  This command starts the dev server and runs Playwright tests.

### Authentication Fixture

We provide a fixture for testing authenticated features without going through the login flow:

<CodeBlock
  code={`test('my test', async ({ page, login }) => {
  const user = await login()
  // you are now logged in
})`}
  lang='typescript'
/>

The user is automatically deleted at the end of each test to keep the local database clean and tests isolated.

## Vitest for Unit and Component Testing

For lower-level tests of utilities and individual components, we use `vitest`.

- We include DOM-specific assertion helpers via [`@testing-library/jest-dom`](https://testing-library.com/jest-dom).

## Type Checking

The Epic Stack uses TypeScript for static type checking.

- It's recommended to set up TypeScript in your editor for the best development experience.
- To run type checking across the whole project:
  <CodeBlock code='npm run typecheck' lang='bash' />

## Linting

We use ESLint for code linting.

- The configuration is in `.eslintrc.js`.
- To run the linter:
  <CodeBlock code='npm run lint' lang='bash' />

## Formatting

[Prettier](https://prettier.io/) is used for code formatting in this project.

- It's recommended to install an editor plugin (like the [VSCode Prettier plugin](https://marketplace.visualstudio.com/items?itemName=esbenp.prettier-vscode)) for auto-formatting on save.
- To format all files in the project:
  <CodeBlock code='npm run format' lang='bash' />

## Best Practices

1. Write tests for new features and bug fixes.
2. Aim for a good balance of unit, integration, and E2E tests.
3. Keep E2E tests focused on critical user flows.
4. Use the authentication fixture for testing protected routes.
5. Run the full test suite before pushing changes.
6. Regularly update testing dependencies to benefit from new features and improvements.

By following these testing practices and utilizing the provided tools, you can ensure that your Epic Stack application remains robust and reliable as it grows and evolves.
