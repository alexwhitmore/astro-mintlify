---
export const prerender = true
import { getCollection } from 'astro:content'
import DocumentationLayout from '../../layouts/DocumentationLayout.astro'
import { generateToc } from '../../lib/toc'

export async function getStaticPaths() {
  const essentialsCollection = await getCollection('essentials')
  return essentialsCollection.map((entry) => ({
    params: { slug: entry.slug },
    props: { entry },
  }))
}

const { entry } = Astro.props
const { Content, headings } = await entry.render()

const toc = generateToc(headings)
const title = entry.data.title || 'Essentials'
---

<DocumentationLayout title={title} toc={toc}>
  <Content />
</DocumentationLayout>
